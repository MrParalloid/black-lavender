:root, body, body[class*="theme-accent"] {
    --accent-color: #7A36F6 !important;
    --interactive-accent: #4809bf !important;
    --yellow-accent: #daf784 !important;
    --interactive-accent: #4809bf !important;
    --accent-h: 260 !important;
    --accent-s: 90% !important;
    --accent-l: 60% !important;
    .view-header-breadcrumb {
        color: var(--accent-color);
        font-weight: 600;
    }
}

/* üåô DARK MODE */
.theme-dark {
    --background-primary: rgba(0, 0, 0, 0.85); 
    --background-secondary: rgba(0, 0, 0, 0.65);
    --titlebar-background-focused: rgba(0, 0, 0, 0.75);
    --background-modifier-border: rgba(255, 255, 255, 0.02);
    --background-modifier-hover: rgba(255, 255, 255, 0.04);
    --background-modifier-active-hover: rgba(255, 255, 255, 0.1);
    --tab-background-active: var(--yellow-accent); 
    --tab-text-color-focused-active-current: #000000 !important;
}

/* ‚òÄÔ∏è LIGHT MODE */
.theme-light {
    --background-primary: #e7e4fb; 
    --background-secondary: #d2cefb;
    --titlebar-background-focused: #d2cefb;
    --text-normal: #222;
    --text-muted: #3e3e3e;
    --text-on-accent: #fff;
    --tab-background-active: var(--yellow-accent);
    --background-modifier-border: rgba(0, 0, 0, 0.05);
    --background-modifier-hover: rgba(0, 0, 0, 0.04);
    --background-modifier-active-hover: rgba(0, 0, 0, 0.05);
}

/* üèÜ Improved Performance - Reduce Blur for Mobile */
@media (hover: none) and (pointer: coarse) {
    .theme-dark, .modal-container {
        backdrop-filter: none !important; /* Disable blur on mobile */
    }
}

.modal-container {
    background-color: rgba(10, 10, 10, 0.5) !important;
}

/* ========================= */
/*  üìå Optimized Animations  */
/* ======================== */

.menu, .workspace-leaf, .modal-container {
    animation: tab-slide-in 0.3s ease-in-out !important;
}

@keyframes tab-slide-in {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (prefers-reduced-motion: reduce) {
    .menu, .workspace-leaf {
        animation: none !important;
    }
}

/* üîó Link Enhancements */
a, .internal-link, .external-link {
    text-decoration: underline !important;
    text-decoration-color: var(--accent-color) !important;
    color: var(--accent-color) !important;
    caret-color: var(--accent-color) !important;
}

a:hover, .internal-link:hover, .external-link:hover,
a:focus, .internal-link:focus, .external-link:focus,
a:active, .internal-link:active, .external-link:active {
    text-decoration-color: var(--interactive-accent) !important;
    color: var(--interactive-accent) !important;
    caret-color: var(--interactive-accent) !important;
}

/* Quick switcher selected item highlight */
.suggestion-item.is-selected {
    background-color: var(--accent-color) !important;
    color: var(--text-on-accent) !important;
}

::selection {
    background: var(--yellow-accent) !important;
    color: #000 !important;
}

/* ======================== */
/*  üìå File Tree & Sidebar  */
/* ======================== */

.nav-file-title.is-active, .nav-folder-title.is-active {
    background-color: var(--yellow-accent);
    color: #000;
}

.nav-file-title:hover, .nav-folder-title:hover {
    background-color: rgba(218, 247, 132, 0.3);
}

.nav-folder-children {
    transition: height 0.15s ease-out, opacity 0.15s ease-out;
}

@media (prefers-reduced-motion: reduce) {
    .nav-folder-children {
        transition: none !important;
    }
}

/* ====================== */
/*  üìå Iconize Fixes & Performance Optimization */
/* ====================== */

.theme-dark .iconize-icon {
    color: var(--yellow-accent) !important;
}

.theme-light .iconize-icon {
    color: #6a21f5 !important;
}

/* üìå Headings (Consistent & Readable) */
.markdown-preview-view h1,
.markdown-preview-view h2,
.markdown-preview-view h3,
.markdown-preview-view h4,
.markdown-preview-view h5,
.markdown-preview-view h6,
.markdown-source-view.mod-cm6 .cm-line.HyperMD-header {
    margin-bottom: 10px !important;
    padding-bottom: 5px !important;
    margin-top: 0px !important;
    font-weight: 500 !important;
    color: var(--text-normal) !important;
}

@media print {
    h1, h2, h3, h4, h5, h6 {
        padding-bottom: 10px !important;
    }
}

hr {
    border: none;
    height: 1px;
    background-color: rgba(128, 128, 128, 0.3);
    margin: 1.5em 0;
}
